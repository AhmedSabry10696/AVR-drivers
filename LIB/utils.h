/**
 * @file utils.h
 * @author Ahmed Sabry (ahmed.sabry10696@gmail.com)
 * @brief Utils header file
 * @version 0.1
 * @date 24-05-2021
 * 
 * @copyright Copyright (c) 2021
 * 
 */

#ifndef UTILS_H_
#define UTILS_H_

/*********************************************************************************************/
/**************************** Set a certain bit in Register **********************************/
/*********************************************************************************************/
#define SET_BIT(REG, BIT) (REG |= (1 << BIT))

/*********************************************************************************************/
/**************************** Clear a certain bit in Register ********************************/
/*********************************************************************************************/
#define CLR_BIT(REG, BIT) (REG &= (~(1 << BIT)))

/*********************************************************************************************/
/**************************** Toggle a certain bit in Register *******************************/
/*********************************************************************************************/
#define TOG_BIT(REG, BIT) (REG ^= (1 << BIT))

/*********************************************************************************************/
/*************************** Rotate Register right with num **********************************/
/*********************************************************************************************/
#define ROR(REG, num) (REG = (REG >> num) | (REG << (8 - num)))

/*********************************************************************************************/
/**************************** Rotate Register left with num **********************************/
/*********************************************************************************************/
#define ROL(REG, num) (REG = (REG << num) | (REG >> (8 - num)))

/*********************************************************************************************/
/***************************** Check if BIT set in Register **********************************/
/*********************************************************************************************/
#define BIT_IS_SET(REG, BIT) ((REG >> BIT) & 0x01)

/*********************************************************************************************/
/***************************** Check if Clear set in Register ********************************/
/*********************************************************************************************/
#define BIT_IS_CLEAR(REG, BIT) (!((REG >> BIT) & 0x01))

/*********************************************************************************************/
/****************************** Get Bit value from Register **********************************/
/*********************************************************************************************/
#define READ_BIT(REG, BIT) ((REG >> BIT) & 0x01)

/*********************************************************************************************/
/***************************** Edit Low nibble in Register ***********************************/
/*********************************************************************************************/
#define EDIT_LOW_NIBBLE(REG, VAL) (REG = (REG & 0xF0) | (VAL & 0x0F));

/*********************************************************************************************/
/***************************** Edit high nibble in Register **********************************/
/*********************************************************************************************/
#define EDIT_HIGH_NIBBLE(REG, VAL) (REG = (REG & 0x0F) | ((VAL << 4) & 0xF0));

/*********************************************************************************************/
/***************************** Edit Bit value in Register ************************************/
/*********************************************************************************************/
#define EDIT_BIT_VALUE(REG, BIT, VAL) REG = (REG & (~(1 << BIT))) | (VAL << BIT)

/*********************************************************************************************/
/********************************** End of utils file ****************************************/
/*********************************************************************************************/

#endif /* UTILS_H_ */
